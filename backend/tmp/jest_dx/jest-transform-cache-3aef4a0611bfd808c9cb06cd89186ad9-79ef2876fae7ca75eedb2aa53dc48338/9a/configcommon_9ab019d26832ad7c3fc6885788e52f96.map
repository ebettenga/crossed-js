{"version":3,"names":["cov_2nofiy3kdc","actualCoverage","s","redisURL","process","env","REDIS_URL","b","URL","exports","commonConfig","api","prefix","port","host","cors","origin","methods","allowedHeaders","credentials","game","points","correct","incorrect","forfeit","elo","kFactorBase","winStreakMultiplier","maxWinStreakBonus","gamesPlayedDampening","maxPlayers","crossword","firstCrosswordDate","timeout","pending","inactivity","initial","minimum","accelerationRate","completionStep","status","cleanup","interval","heartbeatTimeout","redis","default","family","hostname","parseInt","username","password","gameTTL","email","SMTP_HOST","SMTP_PORT","secure","SMTP_SECURE","auth","user","SMTP_USER","pass","SMTP_PASS","from","SMTP_FROM","mode","SERVER_MODE"],"sources":["/Users/ethanbett/Documents/Repos/crossed-js/backend/src/config/config-common.ts"],"sourcesContent":["import { RedisOptions } from \"ioredis\";\n\nconst redisURL = process.env.REDIS_URL ? new URL(process.env.REDIS_URL) : null;\n\nexport const commonConfig = {\n  api: {\n    prefix: \"/api\",\n    port: 3000,\n    host: \"0.0.0.0\",\n  },\n  cors: {\n    origin: \"*\",\n    methods: [\"GET\", \"POST\", \"PUT\", \"DELETE\", \"PATCH\"],\n    allowedHeaders: [\"Content-Type\", \"Authorization\"],\n    credentials: true,\n  },\n  game: {\n    points: {\n      correct: 3,\n      incorrect: -1,\n      forfeit: -300,\n    },\n    elo: {\n      kFactorBase: 25,\n      winStreakMultiplier: 0.1,\n      maxWinStreakBonus: 0.3,\n      gamesPlayedDampening: 30,\n    },\n    maxPlayers: {\n      \"1v1\": 2,\n      \"2v2\": 4,\n      \"free4all\": 4,\n      \"time_trial\": 1,\n    },\n    crossword: {\n      firstCrosswordDate: \"2000-01-01\",\n    },\n    timeout: {\n      pending: 120000, // 2 minutes in milliseconds\n      inactivity: {\n        initial: 5000, // 2 seconds initial timeout\n        minimum: 5000, // 2 seconds minimum timeout\n        // The rate at which the timeout decreases (percentage)\n        // e.g., 0.2 means timeout reduces by 20% for each 10% of puzzle completed\n        accelerationRate: 0.2,\n        // Percentage of puzzle completion between timeout adjustments\n        completionStep: 0.1, // 10%\n      },\n    },\n  },\n  status: {\n    cleanup: {\n      interval: 30000, // 30 seconds\n      heartbeatTimeout: 300000, // 5 minutes\n    },\n  },\n  redis: {\n    default: {\n      family: 0,\n      host: redisURL?.hostname || \"localhost\",\n      port: parseInt(redisURL?.port || \"6379\"),\n      username: redisURL?.username || \"default\",\n      password: redisURL?.password || \"\",\n    } as RedisOptions,\n    gameTTL: 86400, // 1 day in seconds\n  },\n  email: {\n    host: process.env.SMTP_HOST || \"smtp.gmail.com\",\n    port: parseInt(process.env.SMTP_PORT || \"587\"),\n    secure: process.env.SMTP_SECURE === \"true\",\n    auth: {\n      user: process.env.SMTP_USER,\n      pass: process.env.SMTP_PASS,\n    },\n    from: process.env.SMTP_FROM || \"noreply@crossed.com\",\n  },\n  mode: process.env.SERVER_MODE || \"api\", // 'api' or 'worker',\n};\n"],"mappings":"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","ignoreList":[]}
